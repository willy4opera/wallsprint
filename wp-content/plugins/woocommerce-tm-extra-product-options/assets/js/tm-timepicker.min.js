!function(e){"use strict";"function"==typeof window.define&&window.define.amd?window.define(["jquery","jquery-ui"],e):e(window.jQuery)}(function(k){"use strict";function n(e,t){for(var i in k.extend(e,t),t)null!==t[i]&&void 0!==t[i]||(e[i]=t[i]);return e}function u(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function h(e){function t(e,t){return-1!==e.indexOf(t)}var i=e.replace(/'.*?'/g,"").toLowerCase();return{hour:t(i,"h"),minute:t(i,"m"),second:t(i,"s"),millisec:t(i,"l"),microsec:t(i,"c"),timezone:t(i,"z"),ampm:t(i,"t")&&t(e,"h"),iso8601:t(e,"Z")}}function r(e){return 0===(e%=12)&&(e=12),String(e)}function l(e,t){var i=o(t,"separator"),t=o(t,"timeFormat").split(i).length,s=e.split(i),a=s.length;return 1<a?{dateString:s.splice(0,a-t).join(i),timeString:s.splice(0,t).join(i)}:{dateString:e,timeString:""}}function m(e,t,i,s,a){if(i=l(i,a),e=k.tm_datepicker._base_parseDate(e,i.dateString,s),""===i.timeString)return{date:e};if(s=k.tm_datepicker.parseTime(t,i.timeString,a))return{date:e,timeObj:s};throw"Wrong time format"}function T(e,t){e&&e.timezone_select&&(t=t||new Date,e.timezone_select.val(-t.getTimezoneOffset()))}function _(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,timeOnlyShowDate:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,maxTime:null,minTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,altRedirectFocus:!0,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",oneLine:!1,defaultValue:null,parse:"strict",afterInject:null},k.extend(this._defaults,this.regional[""])}var o=function(e,t){return(e&&e[t]?e:k.tm_timepicker._defaults)[t]};k.ui.tm_timepicker=k.ui.tm_timepicker||{},k.ui.tm_timepicker.version||(k.extend(k.ui,{tm_timepicker:{version:"1.6.3"}}),k.extend(_.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,maxTime:null,minTime:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(e){return n(this._defaults,e||{}),this},_newInst:function(s,e){var t,i,a,n,r,l,m,o=new _,c={},u={},d=0;for(a in this._defaults)Object.prototype.hasOwnProperty.call(this._defaults,a)&&(n=s.attr("data-"+a))&&(c[a]=n);for(i in t={beforeShow:function(e,t){if("function"==typeof o._defaults.evnts.beforeShow)return o._defaults.evnts.beforeShow.call(s[0],e,t,o)},onChangeMonthYear:function(e,t,i){"function"==typeof o._defaults.evnts.onChangeMonthYear&&o._defaults.evnts.onChangeMonthYear.call(s[0],e,t,i,o)},onClose:function(e,t){!0===o.timeDefined&&""!==s.val()&&o._updateDateTime(t),"function"==typeof o._defaults.evnts.onClose&&o._defaults.evnts.onClose.call(s[0],e,t,o)}})Object.prototype.hasOwnProperty.call(t,i)&&(u[i]=e[i]||this._defaults[i]||null);if(o._defaults=k.extend({},this._defaults,c,e,t,{evnts:u,tm_timepicker:o}),o.amNames=k.map(o._defaults.amNames,function(e){return e.toUpperCase()}),o.pmNames=k.map(o._defaults.pmNames,function(e){return e.toUpperCase()}),o.support=h(o._defaults.timeFormat+(o._defaults.pickerTimeFormat||"")+(o._defaults.altTimeFormat||"")),"string"==typeof o._defaults.controlType?("slider"===o._defaults.controlType&&void 0===k.ui.slider&&(o._defaults.controlType="select"),o.control=o._controls[o._defaults.controlType]):o.control=o._defaults.controlType,r=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840],0<(l=(r=null!==o._defaults.timezoneList?o._defaults.timezoneList:r).length)&&"object"!=typeof r[0])for(;d<l;d+=1)m=r[d],r[d]={value:m,label:k.tm_timepicker.timezoneOffsetString(m,o.support.iso8601)};return o._defaults.timezoneList=r,o.timezone=null!==o._defaults.timezone?k.tm_timepicker.timezoneOffsetNumber(o._defaults.timezone):-1*(new Date).getTimezoneOffset(),o.hour=o._defaults.hour<o._defaults.hourMin?o._defaults.hourMin:o._defaults.hour>o._defaults.hourMax?o._defaults.hourMax:o._defaults.hour,o.minute=o._defaults.minute<o._defaults.minuteMin?o._defaults.minuteMin:o._defaults.minute>o._defaults.minuteMax?o._defaults.minuteMax:o._defaults.minute,o.second=o._defaults.second<o._defaults.secondMin?o._defaults.secondMin:o._defaults.second>o._defaults.secondMax?o._defaults.secondMax:o._defaults.second,o.millisec=o._defaults.millisec<o._defaults.millisecMin?o._defaults.millisecMin:o._defaults.millisec>o._defaults.millisecMax?o._defaults.millisecMax:o._defaults.millisec,o.microsec=o._defaults.microsec<o._defaults.microsecMin?o._defaults.microsecMin:o._defaults.microsec>o._defaults.microsecMax?o._defaults.microsecMax:o._defaults.microsec,o.ampm="",o.$input=s,o._defaults.altField&&(o.$altInput=k(o._defaults.altField),!0===o._defaults.altRedirectFocus)&&o.$altInput.css({cursor:"pointer"}).on("focus",function(){s.trigger("focus")}),0!==o._defaults.minDate&&0!==o._defaults.minDateTime||(o._defaults.minDate=new Date),0!==o._defaults.maxDate&&0!==o._defaults.maxDateTime||(o._defaults.maxDate=new Date),void 0!==o._defaults.minDate&&o._defaults.minDate instanceof Date&&(o._defaults.minDateTime=new Date(o._defaults.minDate.getTime())),void 0!==o._defaults.minDateTime&&o._defaults.minDateTime instanceof Date&&(o._defaults.minDate=new Date(o._defaults.minDateTime.getTime())),void 0!==o._defaults.maxDate&&o._defaults.maxDate instanceof Date&&(o._defaults.maxDateTime=new Date(o._defaults.maxDate.getTime())),void 0!==o._defaults.maxDateTime&&o._defaults.maxDateTime instanceof Date&&(o._defaults.maxDate=new Date(o._defaults.maxDateTime.getTime())),o.$input.on("focus",function(){o._onFocus()}),o.$input.next(".ui-tm-timepicker-trigger").on("click",function(){return o._onFocus(),!1}),o},_addTimePicker:function(e){var t=k.epoAPI.util.trim(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker(),this._afterInject()},_parseTime:function(t,i){var e;if(this.inst||(this.inst=k.tm_datepicker._getInst(this.$input[0])),i||!this._defaults.timeOnly){i=k.tm_datepicker._get(this.inst,"dateFormat");try{if(!(e=m(i,this._defaults.timeFormat,t,k.tm_datepicker._getFormatConfig(this.inst),this._defaults)).timeObj)return!1;k.extend(this,e.timeObj)}catch(e){return k.tm_timepicker.log("Error parsing the date/time string: "+e+"\ndate/time string = "+t+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i),!1}}else{if(!(e=k.tm_datepicker.parseTime(this._defaults.timeFormat,t,this._defaults)))return!1;k.extend(this,e)}return!0},_afterInject:function(){var e=this.inst.settings;"function"==typeof e.afterInject&&e.afterInject.call(this)},_ui_tpicker_onclick:function(e){var t=k(e.target),i=t.html(),s=parseInt(i.replace(/[^0-9]/g),10),i=i.replace(/[^apm]/gi),t=t.data("for");"hour"===t&&(-1!==i.indexOf("p")&&s<12?s+=12:-1!==i.indexOf("a")&&12===s&&(s=0)),e.data.tp_inst.control.value(e.data.tp_inst,e.data.tp_inst[t+"_slider"],e.data.litem,s),e.data.tp_inst._onTimeChange(),e.data.tp_inst._onSelectHandler()},_injectTimePicker:function(){var e,t,i,s,a,r,n,l,m,o=this.inst.dpDiv,c=this.inst.settings,u=this,d="",h="",_=null,f={},p={},g=0,M=0;if(0===o.find("div.ui-tm-timepicker-div").length&&c.showTimepicker){for(t=" ui_tpicker_unit_hide",i='<div class="ui-tm-timepicker-div'+(c.isRTL?" ui-tm-timepicker-rtl":"")+(c.oneLine&&"select"===c.controlType?" ui-tm-timepicker-oneLine":"")+'"><dl><dt class="ui_tpicker_time_label'+(c.showTime?"":t)+'">'+c.timeText+'</dt><dd class="ui_tpicker_time '+(c.showTime?"":t)+'"><input class="ui_tpicker_time_input" '+(c.timeInput?"":"disabled")+"></dd>",g=0,M=this.units.length;g<M;g+=1){if(_=null!==c["show"+(h=(d=this.units[g]).substring(0,1).toUpperCase()+d.substring(1))]?c["show"+h]:this.support[d],f[d]=parseInt(c[d+"Max"]-(c[d+"Max"]-c[d+"Min"])%c["step"+h],10),p[d]=0,i+='<dt class="ui_tpicker_'+d+"_label"+(_?"":t)+'">'+c[d+"Text"]+'</dt><dd class="ui_tpicker_'+d+(_?"":t)+'"><div class="ui_tpicker_'+d+"_slider"+(_?"":t)+'"></div>',_&&0<c[d+"Grid"]){if(i+='<div><table class="ui-tpicker-grid-label"><tr>',"hour"===d)for(s=c[d+"Min"];s<=f[d];s+=parseInt(c[d+"Grid"],10))p[d]+=1,i+='<td data-for="'+d+'">'+k.tm_datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:s},c)+"</td>";else for(a=c[d+"Min"];a<=f[d];a+=parseInt(c[d+"Grid"],10))p[d]+=1,i+='<td data-for="'+d+'">'+(a<10?"0":"")+a+"</td>";i+="</tr></table></div>"}i+="</dd>"}for(i+='<dt class="ui_tpicker_timezone_label'+((n=null!==c.showTimezone?c.showTimezone:this.support.timezone)?"":t)+'">'+c.timezoneText+"</dt>",r=k(i=i+('<dd class="ui_tpicker_timezone'+(n?"":t)+'"></dd>')+"</dl></div>"),!0===c.timeOnly&&(r.prepend('<div class="tm-ui-widget-header"><div class="tm-ui-tp-title">'+c.timeOnlyTitle+"</div></div>"),o.find(".tm-ui-dp-inner-container").hide()),g=0,M=u.units.length;g<M;g+=1)_=null!==c["show"+(h=(d=u.units[g]).substring(0,1).toUpperCase()+d.substring(1))]?c["show"+h]:this.support[d],u[d+"_slider"]=u.control.create(u,r.find(".ui_tpicker_"+d+"_slider"),d,u[d],c[d+"Min"],f[d],c["step"+h]),_&&0<c[d+"Grid"]&&(e=100*p[d]*c[d+"Grid"]/(f[d]-c[d+"Min"]),r.find(".ui_tpicker_"+d+" table").css({width:e+"%",marginLeft:c.isRTL?"0":e/(-2*p[d])+"%",marginRight:c.isRTL?e/(-2*p[d])+"%":"0",borderCollapse:"collapse"}).find("td").on("click",{that:this,tp_inst:u,litem:d},this._ui_tpicker_onclick).css({cursor:"pointer",width:100/p[d]+"%",textAlign:"center",overflow:"hidden"}));this.timezone_select=r.find(".ui_tpicker_timezone").append("<select></select>").find("select"),k.fn.append.apply(this.timezone_select,k.map(c.timezoneList,function(e){return k("<option />").val("object"==typeof e?e.value:e).text("object"==typeof e?e.label:e)})),void 0!==this.timezone&&null!==this.timezone&&""!==this.timezone?-1*new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset()===this.timezone?T(u):this.timezone_select.val(this.timezone):void 0!==this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(c.timezone):T(u),this.timezone_select.on("change",function(){u._onTimeChange(),u._onSelectHandler(),u._afterInject()}),(n=o.find(".tm-ui-dp-buttonpane")).length?n.before(r):o.append(r),this.$timeObj=r.find(".ui_tpicker_time_input"),this.$timeObj.on("change",function(){var e=u.inst.settings.timeFormat,e=k.tm_datepicker.parseTime(e,this.value),t=new Date;e?(t.setHours(e.hour),t.setMinutes(e.minute),t.setSeconds(e.second),k.datepicker._setTime(u.inst,t)):(this.value=u.formattedTime,this.trigger("blur"))}),null!==this.inst&&(n=this.timeDefined,this._onTimeChange(),this.timeDefined=n),this._defaults.addSliderAccess&&(l=this._defaults.sliderAccessArgs,m=this._defaults.isRTL,l.isRTL=m,setTimeout(function(){var n;0===r.find(".ui-slider-access").length&&(r.find(".ui-slider:visible").sliderAccess(l),n=r.find(".ui-slider-access:eq(0)").outerWidth(!0))&&r.find("table:visible").each(function(){var e=k(this),t=e.outerWidth(),i=e.css(m?"marginRight":"marginLeft").toString().replace("%",""),s=t-n,a={width:s,marginRight:0,marginLeft:0};a[m?"marginRight":"marginLeft"]=i*s/t+"%",e.css(a)})},10)),u._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(e,t){var i,s,a=this._defaults,n=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);this._defaults.showTimepicker&&(null!==k.tm_datepicker._get(e,"minDateTime")&&void 0!==k.tm_datepicker._get(e,"minDateTime")&&n&&(s=k.tm_datepicker._get(e,"minDateTime"),i=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0),null!==this.hourMinOriginal&&null!==this.minuteMinOriginal&&null!==this.secondMinOriginal&&null!==this.millisecMinOriginal&&null!==this.microsecMinOriginal||(this.hourMinOriginal=a.hourMin,this.minuteMinOriginal=a.minuteMin,this.secondMinOriginal=a.secondMin,this.millisecMinOriginal=a.millisecMin,this.microsecMinOriginal=a.microsecMin),e.settings.timeOnly||i.getTime()===n.getTime()?(this._defaults.hourMin=s.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=s.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=s.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=s.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=s.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)),null!==k.tm_datepicker._get(e,"maxDateTime")&&void 0!==k.tm_datepicker._get(e,"maxDateTime")&&n&&(i=k.tm_datepicker._get(e,"maxDateTime"),s=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0),null!==this.hourMaxOriginal&&null!==this.minuteMaxOriginal&&null!==this.secondMaxOriginal&&null!==this.millisecMaxOriginal||(this.hourMaxOriginal=a.hourMax,this.minuteMaxOriginal=a.minuteMax,this.secondMaxOriginal=a.secondMax,this.millisecMaxOriginal=a.millisecMax,this.microsecMaxOriginal=a.microsecMax),e.settings.timeOnly||s.getTime()===n.getTime()?(this._defaults.hourMax=i.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=i.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=i.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=i.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=i.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)),null!==e.settings.minTime&&(a=new Date("01/01/1970 "+e.settings.minTime),parseFloat(e.settings.minTime).toString()===e.settings.minTime&&(a=new Date(Date.now()+parseFloat(e.settings.minTime))),this.hour<a.getHours()?(this._defaults.hourMin=a.getHours(),this.hour=this._defaults.hourMin,this._defaults.minuteMin=a.getMinutes(),this.minute=this._defaults.minuteMin):this.hour===a.getHours()&&this.minute<a.getMinutes()?(this._defaults.minuteMin=a.getMinutes(),this.minute=this._defaults.minuteMin):this._defaults.hourMin<a.getHours()?(this._defaults.hourMin=a.getHours(),this._defaults.minuteMin=a.getMinutes()):this._defaults.hourMin===a.getHours()===this.hour&&this._defaults.minuteMin<a.getMinutes()?this._defaults.minuteMin=a.getMinutes():this._defaults.minuteMin=0),null!==e.settings.maxTime&&(s=new Date("01/01/1970 "+e.settings.maxTime),this.hour>s.getHours()?(this._defaults.hourMax=s.getHours(),this.hour=this._defaults.hourMax,this._defaults.minuteMax=s.getMinutes(),this.minute=this._defaults.minuteMax):this.hour===s.getHours()&&this.minute>s.getMinutes()?(this._defaults.minuteMax=s.getMinutes(),this.minute=this._defaults.minuteMax):this._defaults.hourMax>s.getHours()?(this._defaults.hourMax=s.getHours(),this._defaults.minuteMax=s.getMinutes()):this._defaults.hourMax===s.getHours()===this.hour&&this._defaults.minuteMax>s.getMinutes()?this._defaults.minuteMax=s.getMinutes():this._defaults.minuteMax=59),void 0!==t)&&!0===t&&(n=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),i=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),a=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),e=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),s=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10),this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:n,step:this._defaults.stepHour}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:i,step:this._defaults.stepMinute}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:a,step:this._defaults.stepSecond}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:e,step:this._defaults.stepMillisec}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider)&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:s,step:this._defaults.stepMicrosec}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))},_onTimeChange:function(){var e,t,i=!!this.hour_slider&&this.control.value(this,this.hour_slider,"hour"),s=!!this.minute_slider&&this.control.value(this,this.minute_slider,"minute"),a=!!this.second_slider&&this.control.value(this,this.second_slider,"second"),n=!!this.millisec_slider&&this.control.value(this,this.millisec_slider,"millisec"),r=!!this.microsec_slider&&this.control.value(this,this.microsec_slider,"microsec"),l=!!this.timezone_select&&this.timezone_select.val(),m=this._defaults,o=m.pickerTimeFormat||m.timeFormat,c=m.pickerTimeSuffix||m.timeSuffix;this._defaults.showTimepicker&&("object"==typeof s&&(s=!1),"object"==typeof a&&(a=!1),"object"==typeof n&&(n=!1),"object"==typeof r&&(r=!1),"object"==typeof l&&(l=!1),!1!==(i="object"==typeof i?!1:i)&&(i=parseInt(i,10)),!1!==s&&(s=parseInt(s,10)),!1!==a&&(a=parseInt(a,10)),!1!==n&&(n=parseInt(n,10)),!1!==r&&(r=parseInt(r,10)),!1!==l&&(l=l.toString()),e=m[i<12?"amNames":"pmNames"][0],(t=i!==parseInt(this.hour,10)||s!==parseInt(this.minute,10)||a!==parseInt(this.second,10)||n!==parseInt(this.millisec,10)||r!==parseInt(this.microsec,10)||0<this.ampm.length&&i<12!=(-1!==k.inArray(this.ampm.toUpperCase(),this.amNames))||null!==this.timezone&&l!==this.timezone.toString())&&(!1!==i&&(this.hour=i),!1!==s&&(this.minute=s),!1!==a&&(this.second=a),!1!==n&&(this.millisec=n),!1!==r&&(this.microsec=r),!1!==l&&(this.timezone=l),this.inst||(this.inst=k.tm_datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=e),this.formattedTime=k.tm_datepicker.formatTime(m.timeFormat,this,m),this.$timeObj&&(o===m.timeFormat?this.$timeObj.val(this.formattedTime+c):this.$timeObj.val(k.tm_datepicker.formatTime(o,this,m)+c),this.$timeObj[0].setSelectionRange)&&(i=this.$timeObj[0].selectionStart,s=this.$timeObj[0].selectionEnd,this.$timeObj[0].setSelectionRange(i,s)),this.timeDefined=!0,t)&&this._updateDateTime()},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(e){var t="",i=0<(e=this.inst||e).currentYear?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(e.selectedYear,e.selectedMonth,e.selectedDay),i=k.tm_datepicker._daylightSavingAdjust(i),s=k.tm_datepicker._get(e,"dateFormat"),a=k.tm_datepicker._getFormatConfig(e),n=null!==i&&this.timeDefined;this.formattedDate=k.tm_datepicker.formatDate(s,null===i?new Date:i,a),s=this.formattedDate,""===e.lastVal&&(e.currentYear=e.selectedYear,e.currentMonth=e.selectedMonth,e.currentDay=e.selectedDay),!0===this._defaults.timeOnly&&!1===this._defaults.timeOnlyShowDate?s=this.formattedTime:(!0!==this._defaults.timeOnly&&(this._defaults.alwaysSetTime||n)||!0===this._defaults.timeOnly&&!0===this._defaults.timeOnlyShowDate)&&(s+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=s,this._defaults.showTimepicker?this.$altInput&&!1===this._defaults.timeOnly&&!0===this._defaults.altFieldTimeOnly?(this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)):this.$altInput?(this.$input.val(s),t="",e=null!==this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,n=null!==this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix,this._defaults.timeOnly||(t=this._defaults.altFormat?k.tm_datepicker.formatDate(this._defaults.altFormat,null===i?new Date:i,a):this.formattedDate)&&(t+=e),null!==this._defaults.altTimeFormat?t+=k.tm_datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+n:t+=this.formattedTime+n,this.$altInput.val(t)):this.$input.val(s):this.$input.val(this.formattedDate),this.$input.trigger("change")},_onFocus:function(){var e,t;if(!this.$input.val()&&this._defaults.defaultValue&&(this.$input.val(this._defaults.defaultValue),e=k.tm_datepicker._getInst(this.$input.get(0)),t=k.tm_datepicker._get(e,"tm_timepicker"))&&t._defaults.timeOnly&&e.input.val()!==e.lastVal)try{k.tm_datepicker._updateDatepicker(e)}catch(e){k.tm_timepicker.log(e)}},_controls:{slider:{create:function(i,e,s,t,a,n,r){var l=i._defaults.isRTL;return e.prop("slide",null).slider({orientation:"horizontal",value:l?-1*t:t,min:l?-1*n:a,max:l?-1*a:n,step:r,slide:function(e,t){i.control.value(i,k(this),s,l?-1*t.value:t.value),i._onTimeChange()},stop:function(){i._onSelectHandler()}})},options:function(e,t,i,s,a){var n;return e._defaults.isRTL?"string"==typeof s?"min"===s||"max"===s?void 0!==a?t.slider(s,-1*a):Math.abs(t.slider(s)):t.slider(s):(e=s.min,n=s.max,s.max=null,s.min=null,void 0!==e&&(s.max=-1*e),void 0!==n&&(s.min=-1*n),t.slider(s)):"string"==typeof s&&void 0!==a?t.slider(s,a):t.slider(s)},value:function(e,t,i,s){return e._defaults.isRTL?void 0!==s?t.slider("value",-1*s):Math.abs(t.slider("value")):void 0!==s?t.slider("value",s):t.slider("value")}},select:{create:function(e,t,i,s,a,n,r){for(var l='<select class="ui-tm-timepicker-select ui-state-default ui-corner-all" data-unit="'+i+'" data-min="'+a+'" data-max="'+n+'" data-step="'+r+'">',m=e._defaults.pickerTimeFormat||e._defaults.timeFormat,o=a;o<=n;o+=r)l=(l+='<option value="'+o+'"'+(o===s?" selected":"")+">")+("hour"===i?k.tm_datepicker.formatTime(k.epoAPI.util.trim(m.replace(/[^ht ]/gi,"")),{hour:o},e._defaults):"millisec"===i||"microsec"===i||10<=o?o:"0"+o.toString())+"</option>";return l+="</select>",t.children("select").remove(),k(l).appendTo(t).on("change",function(){e._onTimeChange(),e._onSelectHandler(),e._afterInject()}),t},options:function(e,t,i,s,a){var n={},r=t.children("select");if("string"==typeof s){if(void 0===a)return r.data(s);n[s]=a}else n=s;return e.control.create(e,t,r.data("unit"),r.val(),0<=n.min?n.min:r.data("min"),n.max||r.data("max"),n.step||r.data("step"))},value:function(e,t,i,s){t=t.children("select");return void 0!==s?t.val(s):t.val()}}}}),k.fn.extend({tm_timepicker:function(e){var t=Array.prototype.slice.call(arguments);return"object"==typeof(e=e||{})&&(t[0]=k.extend(e,{timeOnly:!0})),k(this).each(function(){k.fn.tm_datetimepicker.apply(k(this),t)})},tm_datetimepicker:function(t){var i=arguments;return"string"==typeof(t=t||{})?"getDate"===t||"option"===t&&2===i.length&&"string"==typeof i[1]?k.fn.tm_datepicker.apply(k(this[0]),i):this.each(function(){var e=k(this);e.tm_datepicker.apply(e,i)}):this.each(function(){var e=k(this);e.tm_datepicker(k.tm_timepicker._newInst(e,t)._defaults)})}}),k.tm_datepicker.parseDateTime=function(e,t,i,s,a){e=m(e,t,i,s,a);return e.timeObj&&(t=e.timeObj,e.date.setHours(t.hour,t.minute,t.second,t.millisec),e.date.setMicroseconds(t.microsec)),e.date},k.tm_datepicker.parseTime=function(t,i,s){function a(e,t,n){var i="^"+e.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){var t,i,s,a=e.length;switch(e.charAt(0).toLowerCase()){case"h":case"m":case"s":return 1===a?"(\\d?\\d)":"(\\d{"+a+"})";case"l":case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return t=n.amNames,i=n.pmNames,s=[],t&&k.merge(s,t),i&&k.merge(s,i),"("+(s=k.map(s,function(e){return e.replace(/[.*+?|()[\]{}\\]/g,"\\$&")})).join("|")+")?";default:return"("+e.replace(/'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(e){return"\\"+e})+")?"}}).replace(/\s/g,"\\s?")+n.timeSuffix+"$",e=function(e){var t,i=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),s={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(i)for(t=0;t<i.length;t+=1)-1===s[i[t].toString().charAt(0)]&&(s[i[t].toString().charAt(0)]=t+1);return s}(e),s="",a={hour:0,minute:0,second:0,millisec:0,microsec:0};return!!(t=t.match(new RegExp(i,"i")))&&(-1!==e.t&&(void 0===t[e.t]||0===t[e.t].length?a.ampm=s="":(s=-1!==k.inArray(t[e.t].toUpperCase(),k.map(n.amNames,function(e){return e.toUpperCase()}))?"AM":"PM",a.ampm=n["AM"===s?"amNames":"pmNames"][0])),-1!==e.h&&("AM"===s&&"12"===t[e.h]?a.hour=0:"PM"===s&&"12"!==t[e.h]?a.hour=parseInt(t[e.h],10)+12:a.hour=Number(t[e.h])),-1!==e.m&&(a.minute=Number(t[e.m])),-1!==e.s&&(a.second=Number(t[e.s])),-1!==e.l&&(a.millisec=Number(t[e.l])),-1!==e.c&&(a.microsec=Number(t[e.c])),-1!==e.z&&void 0!==t[e.z]&&(a.timezone=k.tm_timepicker.timezoneOffsetNumber(t[e.z])),a)}s=n(n({},k.tm_timepicker._defaults),s||{});if("function"==typeof s.parse)return s.parse(t,i,s);if("loose"!==s.parse)return a(t,i,s);var e;try{if(e=new Date("2012-01-01 "+i),isNaN(e.getTime())&&(e=new Date("2012-01-01T"+i),isNaN(e.getTime()))&&(e=new Date("01/01/2012 "+i),isNaN(e.getTime())))throw"Unable to parse time with native Date: "+i;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisec:e.getMilliseconds(),microsec:e.getMicroseconds(),timezone:-1*e.getTimezoneOffset()}}catch(e){try{return a(t,i,s)}catch(e){k.tm_timepicker.log("Unable to parse \ntimeString: "+i+"\ntimeFormat: "+t)}}return!1},k.tm_datepicker.formatTime=function(e,t,i){var s,a;return i=i||{},i=k.extend({},k.tm_timepicker._defaults,i),t=k.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},t),e=e,s=i.amNames[0],11<(a=parseInt(t.hour,10))&&(s=i.pmNames[0]),e=e.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){switch(e){case"HH":return("0"+a).slice(-2);case"H":return a;case"hh":return("0"+r(a)).slice(-2);case"h":return r(a);case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"c":return("00"+t.microsec).slice(-3);case"z":return k.tm_timepicker.timezoneOffsetString((null===t.timezone?i:t).timezone,!1);case"Z":return k.tm_timepicker.timezoneOffsetString((null===t.timezone?i:t).timezone,!0);case"T":return s.charAt(0).toUpperCase();case"TT":return s.toUpperCase();case"t":return s.charAt(0).toLowerCase();case"tt":return s.toLowerCase();default:return e.replace(/'/g,"")}})},k.tm_datepicker._base_selectDate=k.tm_datepicker._selectDate,k.tm_datepicker._selectDate=function(e,t){var i=this._getInst(k(e)[0]),s=this._get(i,"tm_timepicker");s&&i.settings.showTimepicker?(s._limitMinMaxDateTime(i,!0),s=i.inline,i.stay_open=!0,i.inline=!0,this._base_selectDate(e,t),i.inline=s,i.stay_open=!1,this._notifyChange(i),this._updateDatepicker(i)):this._base_selectDate(e,t)},k.tm_datepicker._base_updateDatepicker=k.tm_datepicker._updateDatepicker,k.tm_datepicker._updateDatepicker=function(e){var t=e.input[0];k.tm_datepicker._curInst&&k.tm_datepicker._curInst!==e&&k.tm_datepicker._datepickerShowing&&k.tm_datepicker._lastInput!==t||("boolean"!=typeof e.stay_open||!1===e.stay_open)&&(this._base_updateDatepicker(e),t=this._get(e,"tm_timepicker"))&&t._addTimePicker(e)},k.tm_datepicker._base_doKeyPress=k.tm_datepicker._doKeyPress,k.tm_datepicker._doKeyPress=function(e){var t,i,s=k.tm_datepicker._getInst(e.target),a=k.tm_datepicker._get(s,"tm_timepicker");return a&&k.tm_datepicker._get(s,"constrainInput")?(t=a.support.ampm,i=null!==a._defaults.showTimezone?a._defaults.showTimezone:a.support.timezone,s=k.tm_datepicker._possibleChars(k.tm_datepicker._get(s,"dateFormat")),t=a._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,t?"APM":"").replace(/Tt/g,t?"AaPpMm":"").replace(/tT/g,t?"AaPpMm":"").replace(/T/g,t?"AP":"").replace(/tt/g,t?"apm":"").replace(/t/g,t?"ap":"")+" "+a._defaults.separator+a._defaults.timeSuffix+(i?a._defaults.timezoneList.join(""):"")+a._defaults.amNames.join("")+a._defaults.pmNames.join("")+s,i=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode),e.ctrlKey||i<" "||!s||-1<t.indexOf(i)):k.tm_datepicker._base_doKeyPress(e)},k.tm_datepicker._base_updateAlternate=k.tm_datepicker._updateAlternate,k.tm_datepicker._updateAlternate=function(e){var t,i,s,a,n,r,l,m=this._get(e,"tm_timepicker");m?(t=m._defaults.altField)&&(i=this._getDate(e),s=k.tm_datepicker._getFormatConfig(e),a="",n=m._defaults.altSeparator||m._defaults.separator,r=m._defaults.altTimeSuffix||m._defaults.timeSuffix,l=null!==m._defaults.altTimeFormat?m._defaults.altTimeFormat:m._defaults.timeFormat,a+=k.tm_datepicker.formatTime(l,m,m._defaults)+r,m._defaults.timeOnly||m._defaults.altFieldTimeOnly||null===i||(a=m._defaults.altFormat?k.tm_datepicker.formatDate(m._defaults.altFormat,i,s)+n+a:m.formattedDate+n+a),k(t).val(e.input.val()?a:"")):k.tm_datepicker._base_updateAlternate(e)},k.tm_datepicker._base_doKeyUp=k.tm_datepicker._doKeyUp,k.tm_datepicker._doKeyUp=function(e){var t=k.tm_datepicker._getInst(e.target),i=k.tm_datepicker._get(t,"tm_timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!==t.lastVal)try{k.tm_datepicker._updateDatepicker(t)}catch(e){k.tm_timepicker.log(e)}return k.tm_datepicker._base_doKeyUp(e)},k.tm_datepicker._base_gotoToday=k.tm_datepicker._gotoToday,k.tm_datepicker._gotoToday=function(e){var t,i,s=this._getInst(k(e)[0]);this._base_gotoToday(e),(e=this._get(s,"timepicker"))&&(t=k.tm_timepicker.timezoneOffsetNumber(e.timezone),(i=new Date).setMinutes(i.getMinutes()+i.getTimezoneOffset()+parseInt(t,10)),this._setTime(s,i),this._setDate(s,i),e._onSelectHandler())},k.tm_datepicker._disableTimepickerDatepicker=function(e){var t,i=this._getInst(e);i&&(t=this._get(i,"tm_timepicker"),k(e).tm_datepicker("getDate"),t)&&(i.settings.showTimepicker=!1,t._defaults.showTimepicker=!1,t._updateDateTime(i))},k.tm_datepicker._enableTimepickerDatepicker=function(e){var t,i=this._getInst(e);i&&(t=this._get(i,"tm_timepicker"),k(e).tm_datepicker("getDate"),t)&&(i.settings.showTimepicker=!0,t._defaults.showTimepicker=!0,t._addTimePicker(i),t._updateDateTime(i))},k.tm_datepicker._setTime=function(e,t){var i,s=this._get(e,"tm_timepicker");s&&(i=s._defaults,s.hour=t?t.getHours():i.hour,s.minute=t?t.getMinutes():i.minute,s.second=t?t.getSeconds():i.second,s.millisec=t?t.getMilliseconds():i.millisec,s.microsec=t?t.getMicroseconds():i.microsec,s._limitMinMaxDateTime(e,!0),s._onTimeChange(),s._updateDateTime(e))},k.tm_datepicker._setTimeDatepicker=function(e,t,i){var s,a,e=this._getInst(e);e&&(s=this._get(e,"tm_timepicker"))&&(this._setDateFromField(e),t)&&("string"==typeof t?(s._parseTime(t,i),(a=new Date).setHours(s.hour,s.minute,s.second,s.millisec),a.setMicroseconds(s.microsec)):(a=new Date(t.getTime())).setMicroseconds(t.getMicroseconds()),"Invalid Date"===a.toString()&&(a=void 0),this._setTime(e,a))},k.tm_datepicker._base_setDateDatepicker=k.tm_datepicker._setDateDatepicker,k.tm_datepicker._setDateDatepicker=function(e,t){var i,s=this._getInst(e),a=t;s&&("string"!=typeof t||(a=new Date(t)).getTime()||(this._base_setDateDatepicker.apply(this,arguments),a=k(e).tm_datepicker("getDate")),t=this._get(s,"tm_timepicker"),a instanceof Date?(i=new Date(a.getTime())).setMicroseconds(a.getMicroseconds()):i=a,t&&i&&(t.support.timezone||null!==t._defaults.timezone||(t.timezone=-1*i.getTimezoneOffset()),a=k.tm_timepicker.timezoneAdjust(a,k.tm_timepicker.timezoneOffsetString(-a.getTimezoneOffset()),t.timezone),i=k.tm_timepicker.timezoneAdjust(i,k.tm_timepicker.timezoneOffsetString(-i.getTimezoneOffset()),t.timezone)),this._updateDatepicker(s),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,i,!0))},k.tm_datepicker._base_getDateDatepicker=k.tm_datepicker._getDateDatepicker,k.tm_datepicker._getDateDatepicker=function(e,t){var i,s,a,n=this._getInst(e);if(n)return(i=this._get(n,"tm_timepicker"))?(void 0===n.lastVal&&this._setDateFromField(n,t),s=this._getDate(n),a=null,a=i.$altInput&&i._defaults.altFieldTimeOnly?i.$input.val()+" "+i.$altInput.val():("INPUT"!==i.$input.get(0).tagName&&i.$altInput?i.$altInput:i.$input).val(),s&&i._parseTime(a,!n.settings.timeOnly)&&(s.setHours(i.hour,i.minute,i.second,i.millisec),s.setMicroseconds(i.microsec),null!==i.timezone)&&(i.support.timezone||null!==i._defaults.timezone||(i.timezone=-1*s.getTimezoneOffset()),s=k.tm_timepicker.timezoneAdjust(s,i.timezone,k.tm_timepicker.timezoneOffsetString(-s.getTimezoneOffset()))),s):this._base_getDateDatepicker(e,t)},k.tm_datepicker._base_parseDate=k.tm_datepicker.parseDate,k.tm_datepicker.parseDate=function(t,i,s){var a;try{a=this._base_parseDate(t,i,s)}catch(e){if(!(0<=e.indexOf(":")))throw e;a=this._base_parseDate(t,i.substring(0,i.length-(e.length-e.indexOf(":")-2)),s),k.tm_timepicker.log("Error parsing the date string: "+e+"\ndate string = "+i+"\ndate format = "+t)}return a},k.tm_datepicker._base_formatDate=k.tm_datepicker._formatDate,k.tm_datepicker._formatDate=function(e){var t=this._get(e,"tm_timepicker");return t?(t._updateDateTime(e),t.$input.val()):this._base_formatDate(e)},k.tm_datepicker._base_optionDatepicker=k.tm_datepicker._optionDatepicker,k.tm_datepicker._optionDatepicker=function(e,t,i){var s,a,n,r,l,m,o,c=this._getInst(e);if(!c)return null;if(c=this._get(c,"tm_timepicker")){if(o=a=m=null,n=c._defaults.evnts,r={},"string"==typeof t){if("minDate"===t||"minDateTime"===t)m=i;else if("maxDate"===t||"maxDateTime"===t)a=i;else if("onSelect"===t)o=i;else if(Object.prototype.hasOwnProperty.call(n,t)){if(void 0===i)return n[t];r[t]=i,s={}}}else if("object"==typeof t)for(l in t.minDate?m=t.minDate:t.minDateTime?m=t.minDateTime:t.maxDate?a=t.maxDate:t.maxDateTime&&(a=t.maxDateTime),n)Object.prototype.hasOwnProperty.call(n,l)&&t[l]&&(r[l]=t[l]);for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&(n[l]=r[l],delete(s=s||k.extend({},t))[l]);if(s&&u(s))return;if(m?(m=0===m?new Date:new Date(m),c._defaults.minDate=m,c._defaults.minDateTime=m):a?(a=0===a?new Date:new Date(a),c._defaults.maxDate=a,c._defaults.maxDateTime=a):o&&(c._defaults.onSelect=o),m||a)return o=(c=k(e)).tm_datetimepicker("getDate"),m=this._base_optionDatepicker.call(k.tm_datepicker,e,s||t,i),c.tm_datetimepicker("setDate",o),m}return void 0===i?this._base_optionDatepicker.call(k.tm_datepicker,e,t):this._base_optionDatepicker.call(k.tm_datepicker,e,s||t,i)},k.tm_timepicker=new _,k.tm_timepicker.timezoneOffsetString=function(e,t){var i;return!(isNaN(e)||840<e||e<-720)&&(i=e%60,t=t?":":"","+00:00"==(e=(0<=e?"+":"-")+("0"+Math.abs((e-i)/60)).slice(-2)+t+("0"+Math.abs(i)).slice(-2)))?"Z":e},k.tm_timepicker.timezoneOffsetNumber=function(e){var t=e.toString().replace(":","");return"Z"===t.toUpperCase()?0:/^(-|\+)\d{4}$/.test(t)?("-"===t.substring(0,1)?-1:1)*(60*parseInt(t.substring(1,3),10)+parseInt(t.substring(3,5),10)):parseInt(e,10)},k.tm_timepicker.timezoneAdjust=function(e,t,i){t=k.timepicker.timezoneOffsetNumber(t),i=k.tm_timepicker.timezoneOffsetNumber(i);return isNaN(i)||e.setMinutes(e.getMinutes()+-t- -i),e},k.tm_timepicker.timeRange=function(e,t,i){return k.tm_timepicker.handleRange("tm_timepicker",e,t,i)},k.tm_timepicker.datetimeRange=function(e,t,i){k.tm_timepicker.handleRange("tm_datetimepicker",e,t,i)},k.tm_timepicker.dateRange=function(e,t,i){k.tm_timepicker.handleRange("tm_datepicker",e,t,i)},k.tm_timepicker.handleRange=function(r,l,m,o){var e=!1;function t(e,t){var i,s,a=l[r]("getDate"),n=m[r]("getDate"),e=e[r]("getDate");null!==a&&(i=new Date(a.getTime()),s=new Date(a.getTime()),i.setMilliseconds(i.getMilliseconds()+o.minInterval),s.setMilliseconds(s.getMilliseconds()+o.maxInterval),0<o.minInterval&&n<i?m[r]("setDate",i):0<o.maxInterval&&s<n?m[r]("setDate",s):n<a&&t[r]("setDate",e))}function i(e,t,i){e.val()&&(null!==(e=e[r].call(e,"getDate"))&&0<o.minInterval&&("minDate"===i&&e.setMilliseconds(e.getMilliseconds()+o.minInterval),"maxDate"===i)&&e.setMilliseconds(e.getMilliseconds()-o.minInterval),e.getTime)&&t[r].call(t,"option",i,e)}return o=k.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},o),"tm_timepicker"===r&&(e=!0,r="tm_datetimepicker"),k.fn[r].call(l,k.extend({timeOnly:e,onClose:function(){t(k(this),m)},onSelect:function(){i(k(this),m,"minDate")}},o,o.start)),k.fn[r].call(m,k.extend({timeOnly:e,onClose:function(){t(k(this),l)},onSelect:function(){i(k(this),l,"maxDate")}},o,o.end)),t(l,m),i(l,m,"minDate"),i(m,l,"maxDate"),k([l.get(0),m.get(0)])},k.tm_timepicker.log=function(){window.console&&window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,Array.prototype.slice.call(arguments))},k.tm_timepicker._util={_extendRemove:n,_isEmptyObject:u,_convert24to12:r,_detectSupport:h,_selectLocalTimezone:T,_computeEffectiveSetting:o,_splitDateTime:l,_parseDateTimeInternal:m},Date.prototype.getMicroseconds||(Object.defineProperty(Date.prototype,"microseconds",{value:0,writable:!0}),Object.defineProperty(Date.prototype,"getMicroseconds",{value:function(){return this.microseconds}}),Object.defineProperty(Date.prototype,"setMicroseconds",{value:function(e){return this.setMilliseconds(this.getMilliseconds()+Math.floor(e/1e3)),this.microseconds=e%1e3,this}})),k.tm_timepicker.version="1.6.3")});